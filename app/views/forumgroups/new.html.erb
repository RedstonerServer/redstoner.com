<% title "New Forum: #{@group.name}" %>

<h1>New forum group</h1>
<% role_selection = Role.all_from_to(:normal, :admin).collect{|p|[p.name, p.id]} %>
<%= form_for @group do |f|%>
  <table>
    <tr>
      <td><%= f.label :name %></td>
      <td><%= f.text_field :name, placeholder: "Name" %></td>
    </tr>
    <tr>
      <td><%= f.label :position %></td>
      <td><%= f.number_field :position, placeholder: "Position" %></td>
    </tr>
    <tr>
      <td><%= f.label :role_read_id, "Min. read role" %></td>
      <td><%= f.select :role_read_id, role_selection, include_blank: "None" %></td>
    </tr>
    <tr>
      <td><b>Badges with read permission</b></td>
      <td>
        <% Badge.where("name != 'none'").each do |b| %>
          <%=b%><%= check_box_tag "read-#{b}" %>
        <% end %>
      </td>
    </tr>
    <tr>
      <td><%= f.label :role_write_id, "Min. write role" %></td>
      <td><%= f.select :role_write_id, role_selection, include_blank: false %></td>
    </tr>
    <tr>
      <td><b>Badges with write permission</b></td>
      <td>
        <% Badge.where("name != 'none'").each do |b| %>
          <%=b%><%= check_box_tag "write-#{b}" %>
        <% end %>
      </td>
    </tr>
  </table>
  <p><%= f.submit "Create group", class: "btn blue left" %></p>
  <div class="clear"></div>
<% end %>
